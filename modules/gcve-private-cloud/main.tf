locals {
    create_command = "gcloud auth list >> helloworld2.txt"
    create_command2 = "gcloud auth list >> helloworld2.txt"
    create_command3 = "gcloud vmware private-clouds create ${var.pc_name} --location=${var.pc_location} --project=${var.project} --cluster=${var.cluster_name} --node-type-config=type=${var.node_type},custom-core-count=${var.node_core_count},count=${var.node_count} --management-range=${var.pc_management_range}  --vmware-engine-network=${var.vmware_engine_network}"
    # download_gcloud_command = "curl -sL -o ${local.cache_path}/google-cloud-sdk.tar.gz ${local.gcloud_download_url}"
    # cache_path = local.skip_download ? "" : "${path.module}/cache/${random_id.cache[0].hex}"
    # skip_download     = local.download_override == "always" ? false : (local.download_override == "never" ? true : var.skip_download)
    # download_override = var.enabled ? data.external.env_override[0].result.download : ""
    # gcloud_download_url = var.gcloud_download_url != "" ? var.gcloud_download_url : "https://dl.google.com/dl/cloudsdk/channels/rapid/downloads/google-cloud-sdk-${var.gcloud_sdk_version}-${var.platform}-x86_64.tar.gz"

}

resource "null_resource" "hello_world"{
    provisioner "local-exec"{
        command = local.create_command2
    }

}

resource "null_resource" "gcloud_test"{
    provisioner "local-exec"{
        command = local.create_command
    }

}

resource "null_resource" "gcloud_creat_pc"{
    provisioner "local-exec"{
        command = local.create_command3
    }

}



# resource "null_resource" "download_gcloud" {
#   count = (var.enabled && !local.skip_download) ? 1 : 0

#   triggers = {
#     download_gcloud_command = local.download_gcloud_command
#   }

#   provisioner "local-exec" {
#     when    = create
#     command = self.triggers.download_gcloud_command
#   }

# }

# data "external" "env_override" {
#   count = var.enabled ? 1 : 0

#   program = ["${path.module}/scripts/check_env.sh"]
#   query   = {}
# }
# resource "random_id" "cache" {
#   count = (!local.skip_download) ? 1 : 0

#   byte_length = 4
# }